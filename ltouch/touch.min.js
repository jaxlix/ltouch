/*Author:jax.li;Date:2018-01-18*/
ltouch={"elem":null,"typeList":"left,right","type":"","startX":0,"startY":0,"moveEndX":0,"moveEndY":0,"X":0,"Y":0,"minDistance":40,"callbackLeft":null,"callbackRight":null,"on":function(elem,type,callback){if(elem.indexOf("#")!=-1){this.elem=document.getElementById(elem.replace("#",""))?[document.getElementById(elem.replace("#",""))]:[]}else if(elem.indexOf(".")!=-1){this.elem=document.getElementsByClassName(elem.replace(".",""))}if(!this.elem.length){return false}this.type=this.typeList.indexOf(type)!=-1?type:null;if(!this.type){return false}this.type=="left"?this.callbackLeft=callback:this.callbackRight=callback;for(var i=0;i<this.elem.length;i+=1){if(!this.elem[i].ontouchstart){this.elem[i].ontouchstart=function(e){this.startX=e.touches[0].pageX;this.startY=e.touches[0].pageY;this.X=0;this.Y=0}.bind(this)}}for(var j=0;j<this.elem.length;j+=1){if(!this.elem[j].ontouchmove){this.elem[j].ontouchmove=function(e){this.moveEndX=e.touches[0].pageX;this.moveEndY=e.touches[0].pageY;this.X=this.moveEndX-this.startX;this.Y=this.moveEndY-this.startY;if(Math.abs(this.X)>Math.abs(this.Y)){e.preventDefault()}}.bind(this)}}for(var z=0;z<this.elem.length;z+=1){this.elem[z].ontouchend=function(e){if(this.X>0&&Math.abs(this.X)>this.minDistance&&Math.abs(this.X)>Math.abs(this.Y)){this.callbackRight(e);}else if(this.X<0&&Math.abs(this.X)>this.minDistance&&Math.abs(this.X)>Math.abs(this.Y)){this.callbackLeft(e)}}.bind(this)}}};